<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="commentMapper">

	<insert id="insertComment" parameterType="comment">
		INSERT INTO
		SNS_COMMENT(cseq, bseq, id, ccontent)
		VALUES
		(sns_comment_seq.NEXTVAL,
		#{bSeq}, #{id}, #{ccontent})
	</insert>

	<delete id="deleteComment" parameterType="comment">
		DELETE SNS_COMMENT
		WHERE cseq=#{cseq}
	</delete>

	<update id="updateComment" parameterType="comment">
		UPDATE SNS_COMMENT SET
		ccontent=#{ccontent}
		WHERE cseq=#{cseq}
	</update>

	<select id="getComment" resultType="comment">
		SELECT * FROM SNS_COMMENT
	</select>

	<select id="getCommentList" resultType="comment">
		SELECT s.*
		FROM SNS_COMMENT s
		join board b
		on b.bseq = s.bseq
		where b.bseq = #{bseq}
		order by s.indate DESC
	</select>

</mapper>
